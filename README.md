# 自制编程语言rpy（目前是半成品）

##### 基于python3x

#### 简介

这是一个高中生自制的解释型语言，目前刚刚完成框架。

深受汇编语言启发，但是作者能力有限，所以成品取其糟粕（运行慢）去其精华（功能少），但是是一次非常有意思的尝试。

#### 使用方法：

在main.py中的code区域写代码，运行main.py

#### 语法：

代码注释中有体现。

##### 数据类型:

| Type:Str | Type:Int | Type:Float |  Type:List | 标签 | 变量|
|-----------|-------------|-------------|--------------|-------------|-------|
|  "xxx"  |  'xxx'  |   <x.xx>  |  {xxx;xxx} | ~xxx | _xxx |

##### 命令：
|命令|说明|
|--------------------------------------|-------------|
|new <变量> ... <变量>                 |创建变量|
|mov <变量> <值>                       |复制|
|add <变量> <值>                       |加法|
|sub <变量> <值>                       |减法|
|mul <变量> <值>                       |乘法|
|div <变量> <值>                       |除法|
|cal <返回变量> <功能> <参数> ... <参数> |调用内置功能|
|got <标签> <参数>                     |跳转标签|
|rpy <返回变量> <命令>                  |运行python代码|
|err <标签>                           |定错误跳转标签|
|psh <变量> <值>                       |列表加入元素|
|pop <变量> <索引>                     |列表删除元素|
|idx <返回值/变量> <索引>               |列表获取元素|
|cmp <值> <值>                        |比较是否相同（若相同则执行下一行，否则跳过下一行）|
|ifb <值> <值>                        |比较是否大于（若大于则执行下一行，否则跳过下一行）|
|ifs <值> <值>                        |比较是否小于（若小于则执行下一行，否则跳过下一行）|
|typ <变量> <类型>                     |强制类型转换|
|imp <包>                             |导入包|
|put <错误>			|发生错误|

##### 特殊语句：
- 行首使用"~"表示设置标签
- 代码中空格分离各个部分，参数与命令中使用转译符
- "got ~"表示跳转回上一个跳转点，"False"参数可不记录跳转位置
- 所有变量和标签均为全局，包中变量和标签应双写并加入包名以区分（例：__math_abs_argu,~~math_abs_label）

### 后续计划
- 加入读写文件的内置功能
- 加入常量
- 编写string包（关于字符串操作的功能）
- 编写math包（关于高级数学运算功能）

- 希望使用c/c++重写代码（屎山有点大，c++基础也差）
